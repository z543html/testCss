<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://cdn.bootcdn.net/ajax/libs/vConsole/3.9.0/vconsole.min.js"></script>
    <script>
        // init vConsole
        var vConsole = new VConsole();
        console.log('Hello world');
    </script>
    
</head>
<body>
  <div>测试</div>
  <button onclick="toApp()">唤起6</button>
  <br>
  <br>
  <button onclick="toAppa()">唤起open</button>
  <br>
  <br>
  <button onclick="toAppb()">唤起top</button>
  <br>
  <br>
  <button onclick="toAppc()">唤起self</button>
  <br>
  <br>
  <br>
  <button onclick="toApp1()">唤起新版</button>
  <br>
  <br>
  <button onclick="toApp2()">唤起旧版</button>
  <br>
  <br>
  <button onclick="toApp3()">唤起旧版2</button>
  <script>
    function toApp() {
      var url = 'zhsh://'+'gd'+'.10086' + '.cn';
      var OldUrl = 'gmcchhapp://main'
      location.href = url + '?vtime=' + new Date().getTime();
      console.log('ios_new_url',url)
      console.log('window.location.href',window.location)
      toApp3()
    };
    function toAppa() {
      var url = 'zhsh://'+'gd'+'.10086' + '.cn';
      var OldUrl = 'gmcchhapp://main'
      location.href = url + '?vtime=' + new Date().getTime();
      console.log('ios_new_url',url)
      console.log('window.location.href',window.location)
      toApp31()
    };
    function toAppb() {
      var url = 'zhsh://'+'gd'+'.10086' + '.cn';
      var OldUrl = 'gmcchhapp://main'
      location.href = url + '?vtime=' + new Date().getTime();
      console.log('ios_new_url',url)
      console.log('window.location.href',window.location)
      toApp32()
    };
    function toAppc() {
      var url = 'zhsh://'+'gd'+'.10086' + '.cn';
      var OldUrl = 'gmcchhapp://main'
      location.href = url + '?vtime=' + new Date().getTime();
      console.log('ios_new_url',url)
      console.log('window.location.href',window.location)
      toApp33()
    };
    function toApp1() {
      var url = 'zhsh://'+'gd'+'.10086' + '.cn';
      url = url + '?vtime=' + new Date().getTime();
      console.log('ios_new_url1',url)
      location.href = url;
    }
    function toApp2() {
      var url = 'gmcchhapp://main';
      url = url + '?vtime=' + new Date().getTime();
      console.log('ios_old_url2',url)
      location.href = url;
    }
    function toApp3() {
      var url = 'gmcchhapp://main';
      url = url + '?vtime=' + new Date().getTime();
      console.log('ios_old_url2',url)
      setTimeout(function (){
        console.log('toApp3',url)
        location.href = url;
      },2000);
    }
    function toApp31() {
      var url = 'gmcchhapp://main';
      url = url + '?vtime=' + new Date().getTime();
      console.log('ios_old_url2',url)
      setTimeout(function (){
        console.log('toApp31',url)
        // location.href = url;
        window.open(url)
      },2000);
    }
    function toApp32() {
      var url = 'gmcchhapp://main';
      url = url + '?vtime=' + new Date().getTime();
      console.log('ios_old_url2',url)
      setTimeout(function (){
        console.log('toApp32',url)
        // location.href = url;
        top.location =  url;
      },2000);
    }

    function toApp33() {
      var url = 'gmcchhapp://main';
      url = url + '?vtime=' + new Date().getTime();
      console.log('ios_old_url2',url)
      setTimeout(function (){
        console.log('toApp33',url)
        // location.href = url;
        self.location =  url;
      },2000);
    }
    function handleJumpAppTimeout (fn) {
      console.log('handleJumpAppTimeout')
      var timeOut = 2000;
      var timer,start = new Date().getTime();
      setTimeout(function (){
        console.log('setTimeout2')
        if (fn && typeof fn === 'function') {
          fn();
        }
      },timeOut);
    };
  </script>
</body>
</html>